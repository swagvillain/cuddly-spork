<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Math Zoomers</title>
	<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="{% static 'style.css'  %}">
	<link rel="icon" href="/static/favicon.ico" type="image/x-icon">

	<style>
		/* The Modal (background) */
		.modal {
			display: none;
			/* Hidden by default */
			position: fixed;
			/* Stay in place */
			z-index: 1;
			/* Sit on top */
			padding-top: 100px;
			/* Location of the box */
			left: 0;
			top: 0;
			width: 100%;
			/* Full width */
			height: 100%;
			/* Full height */
			overflow: auto;
			/* Enable scroll if needed */
			background-color: rgb(0, 0, 0);
			/* Fallback color */
			background-color: rgba(0, 0, 0, 0.4);
			/* Black w/ opacity */
		}

		/* Modal Content */
		.modal-content {
			font-size: 30px;
			background-color: #fefefe;
			margin: auto;
			padding: 20px;
			border: 1px solid #888;
			width: 60%;
		}

		/* The Close Button */
		.close {
			display: none;
			color: #aaaaaa;
			float: right;
			font-size: 28px;
			font-weight: bold;
		}

		.close:hover,
		.close:focus {
			color: #000;
			text-decoration: none;
			cursor: pointer;
		}
	</style>
</head>

<body onload="speak('Welcome to Math Zoomers!')" class="	numbers-background">
	<main>
		<div class="transparent-background">
			<div class="menu">
				<h1>Main Menu</h1>
				<ul>
					<li>
						<button class="btn btn-primary" onclick="window.location.href='{% url 'game' %}';"
							onmouseover="speak('Ready?')">
							Play Game!
						</button>
					</li>
					<li>
						<button id="rulesButton" class="btn btn-primary">
							How to Play
						</button>
					</li>
					<li>
						<button class="btn btn-primary" onclick="window.location.href='{% url 'highscores' %}';"
							onmouseover="speak('high scores')">
							High Scores
						</button>
					</li>

					<li>
						<button class="btn btn-primary" onclick="window.location.href='{% url 'index' %}';"
							onmouseover="speak('Going so soon?')">
							Exit
						</button>
					</li>
				</ul>
			</div>
		</div>
	</main>

	<!-- The Modal -->
	<div id="Rules" class="modal">
		<!-- Modal content -->
			
			<div class="modal-content">
				<span class="close">&times;</span>

				<div class="slideshow-container" style="width: 800px;">

                        <div class="mySlides">
                            <div class="numbertext">1 / 3</div>
                            <img src="{% static 'RedCar.png' %}" style="height: 200px">
                            <img src="{% static 'BlueCar.png' %}" style="height: 200px;">
                            <img src="{% static 'GreenCar.png' %}" style="height: 200px;"><br><br>
                            <span style="color:red"> Player 1</span> uses the <span style="color:red"> arrow keys
                            </span> to control the <span style="color:red"> red car</span>.<br>
                            
							<span style="color: blue;">Player 2</span> uses the <span style="color: blue;">WASD keys
                            </span> to control the <span style="color:blue"> blue car</span>.<br>

                            <span style="color: green;">QTrobot</span> controls the <span style="color:green"> green
                                car</span>.
                        </div>

                        <div class="mySlides">
                            <div class="numbertext">2 / 3</div>
                            <img src="{% static 'ice-cream.png' %}" style="height:200px"><br>
                            <p><span><strong><em>Tap</em></strong> your keys <strong><em>rapidly</em></strong>
                                to move your car. Reach the Ice Cream first for a chance to answer a math question.
                                Answer correctly to get a
                                point.</span>
							</p>
                        </div>

                        <div class="mySlides">
                            <div class="numbertext">3 / 3</div>
                            <img src="{% static 'crown.png' %}" style="height:200px"><br><br>
                            <p>Whoever has the most points after 1 minute wins!</p>
                        </div>

                        <a class="prev" onclick="plusSlides(-1)">❮</a>
                        <a class="next" onclick="plusSlides(1)">❯</a>

                    </div>
			</div>
	</div>

	<!-- Modal Script -->
	<script>
		// Get the modal
		var modal = document.getElementById("Rules");

		// Get the button that opens the modal
		var btn = document.getElementById("rulesButton");
		btn.addEventListener('mouseover', () => {
			speak('Do you know how to play?');
		});

		btn.addEventListener('click', () => {
			speak('Player 1 uses the arrow keys to control the red car. Player 2 uses the WASD keys to control the blue car. I control the green car. Tap your keys rapidly to move your car. Reach the Ice Cream first for a chance to answer a math question. Answer correctly to get a point. Whoever has the most points after 1 minute wins!');
		});

		// Get the <span> element that closes the modal
		var span = document.getElementsByClassName("close")[0];

		// When the user clicks the button, open the modal
		btn.addEventListener('click', () => {
			modal.style.display = "block";
		});

		// When the user clicks on <span> (x), close the modal
		span.onclick = function () {
			modal.style.display = "none";
		}

		// modal.onclick = function () {
		// 	modal.style.display = "none";
		// }


		// When the user clicks anywhere outside of the modal, close it
		window.onclick = function (event) {
			if (event.target == modal) {
				modal.style.display = "none";
			}
		}
	</script>

	<!-- TTS script -->
	<script src="{% static 'js/tts.js' %}"></script>

	<!-- slideshow script -->
    <script>
        let slideIndex = 1;
        showSlides(slideIndex);

        function plusSlides(n) {
            showSlides(slideIndex += n);
        }

        function currentSlide(n) {
            showSlides(slideIndex = n);
        }

        function showSlides(n) {
            let i;
            let slides = document.getElementsByClassName("mySlides");
            let dots = document.getElementsByClassName("dot");
            if (n > slides.length) { slideIndex = 1 }
            if (n < 1) { slideIndex = slides.length }
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");
            }
            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active";
        }
    </script>

</body>

</html>